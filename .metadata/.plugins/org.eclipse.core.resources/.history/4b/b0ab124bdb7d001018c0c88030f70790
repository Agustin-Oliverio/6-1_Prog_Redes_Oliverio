package Clase_hilos;

import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Arrays;

public class TareaEjecutar {
		private static PrintStream ps = new PrintStream(System.out);
		public static void TareaEjecutar(String nombre, String tipo, String color) {
		
		ArrayList<String> pasos = new ArrayList<>(
				Arrays.asList("Descargando","Verificando","Descomprimiendo","Procesando","Finalizando"));
		
		
		for(String paso: pasos) {
			if(Thread.currentThread().isInterrupted()) {
				ps.println(color + "[" + Thread.currentThread().getName() + "] interruppido, abortando hilo " + nombre  + Utils.RESET);
				return;
			}
			
			ps.println(color + "[" + Thread.currentThread().getName()+ "]" + tipo + "->" + nombre + ":" + paso + "..." + Utils.RESET);	
			
			try {
				Thread.sleep((int)(200 + Math.random()* 800));
				
			}catch (InterruptedException ex) {
				ps.println(color + "[" + Thread.currentThread().getName() + "] interrupcion detectada en medio de " + paso + Utils.RESET);
				return;
			}
			
		}
		
		ps.println(color + "[" + Thread.currentThread().getName()+ "]" + tipo + "->" + nombre + "completado" + "Utils".RESET);
		
		}
}
